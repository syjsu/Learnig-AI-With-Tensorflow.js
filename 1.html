<html>

<head>
    <title>深度学习框架</title>
    <script src="https://cdn.bootcss.com/tensorflow/0.9.1/tf.min.js"></script>
    </script>
    <script>
    // 线性模型
    const model = tf.sequential();
    model.add(tf.layers.dense({ units: 1, inputShape: [1] }));
    model.compile({ loss: 'meanSquaredError', optimizer: 'sgd' });

    // 需要学习的数据 x=1,2,3,4,5 y=1,3,5,7,9
    const xs = tf.tensor2d([1, 2, 3, 4, 5, 6, 7, 8, 9, 10],[10,1]);
    const ys = tf.tensor2d([1, 1, 2, 3, 5, 8, 13, 21, 34, 55],[10,1]);

    console.log("Start input data [x]:");
    xs.print();

    console.log("Start input data [y]:");
    ys.print();

    // 开始学习的数据 
    model.fit(xs, ys).then(() => {

        //测试输入 x=6,7,8,9,10
        console.log("Start test data [x]:");
        zs = tf.tensor2d([11,12,13,14,15,16,17,18,19,20],[10,1]);
        zs.print();

        //测试输出(理论结果) y=11,13,15,17,19
        console.log("Start test data [y]:");
        model.predict(zs).print();
    });
    </script>
</head>

<body>
</body>

</html>
